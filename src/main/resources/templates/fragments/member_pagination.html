<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	 xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<div th:fragment="pagination">	 
	<!-- 첫번째 페이지로 이동 -->
	<!-- @{ /seller/?page=1 }과 같음 -->
	<a th:href="@{ /product/(page=1, searchCondition = ${ param.searchCondition }, searchKeyword = ${ param.searchKeyword }) }">First</a>
	
	<!-- productList.getNumber() 사용자:2페이지 getNumber()=1 -->
	<a th:href="${ productList?.first } ? '#' : @{ /product/(page=${ productList?.number }, searchCondition = ${ param.searchCondition }, searchKeyword = ${ param.searchKeyword }) }">prev</a>
	
	<!-- 페이지 번호 링크(현재 페이지는 숫자만) -->
	<!-- for(int page=startPage; page<=endPage; page++)-->
	<!-- 상품데이터가 하나도 없을 경우 -->
	<span th:if="${ productList.totalElements == 0 }">
		<span th:text="1"></span>
	</span>
	<!-- 상품데이터가 하나라도 있을 경우 -->
	<span th:unless="${ productList.totalElements == 0 }">
		<span th:each="page: ${ #numbers.sequence(startPage, endPage) }">
			<!-- 요청페이지가 현재페이지면 링크 X -->
			<span th:if="${ page == productList?.number + 1 }" th:text="${ page }"></span>
			<!-- 요청페이지가 현재페이지가 아니면 링크 O -->
			<span th:unless="${ page == productList?.number + 1} ">
				<a th:href="@{ /product/(page=${ page }, searchCondition = ${ param.searchCondition }, searchKeyword = ${ param.searchKeyword }) }" th:text="${ page }"></a>
			</span>
		</span>
	</span>
	
	<!-- 사용자: 2페이지, getNumber: 1, 3페이지-->
	<a th:href="${ productList.last } ? '#' : @{ /product/(page=${ productList?.number + 2 }, searchCondition = ${ param.searchCondition }, searchKeyword = ${ param.searchKeyword }) }">next</a>
	
	<!-- 마지막 페이지로 이동 -->
	<!-- 상품데이터가 하나도 없을 경우 -->
	<span th:if="${ productList.totalElements == 0 }">
		<a th:href="@{ /product/(page=1, searchCondition = ${ param.searchCondition }, searchKeyword = ${ param.searchKeyword }) }">Last</a>
	</span>
	<!-- 상품데이터가 하나라도 있을 경우 -->
	<span th:unless="${ productList.totalElements == 0 }">	
		<a th:href="@{ /product/(page=${ productList.totalPages }, searchCondition = ${ param.searchCondition }, searchKeyword = ${ param.searchKeyword }) }">Last</a>
	</span>
</div>